<!DOCTYPE html>
<html>
<head>
  <title>Calendario</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #fff;
    }

    .calendar {
      width: 360px;
      background-color: #D9D9D9;
      padding: 10px;
      border-radius: 5px;
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    #calendar-body {
      width: 100%;
    }

    th, td {
      text-align: center;
      padding: 5px;
    }

    button {
      background: none;
      border: none;
      cursor: pointer;
      outline: none;
      color: #092054;
    }

    .date-picker {
      display: inline-block;
      position: relative;
    }

    .date-picker input[type="date"] {
      width: 100%;
      padding: 5px;
      border: none;
      background-color: transparent;
      cursor: pointer;
      appearance: none;
    }

    .date-picker input[type="date"]::-webkit-calendar-picker-indicator {
      display: none;
    }

    td {
      cursor: pointer;
    }

    td.selected {
      background-color: #092054;
      color: #fff;
    }
  </style>
</head>
<body>
  <div class="calendar">
    <div class="date-picker">
      <input type="date" id="selected-date" readonly />
    </div>

    <div class="calendar-header">
      <button id="prev-month">&lt;</button>
      <h1 id="current-month"></h1>
      <button id="next-month">&gt;</button>
    </div>

    <table id="calendar-body">
      <thead>
        <tr>
          <th>Dom</th>
          <th>Lun</th>
          <th>Mar</th>
          <th>Mié</th>
          <th>Jue</th>
          <th>Vie</th>
          <th>Sáb</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var currentDate = new Date();
      var selectedDate = document.getElementById('selected-date');

      function generateCalendar(year, month) {
        var calendarBody = document.querySelector('#calendar-body tbody');
        var calendarHeader = document.getElementById('current-month');
        calendarBody.innerHTML = '';
        var date = new Date(year, month);

        calendarHeader.textContent = date.toLocaleString('default', { month: 'long', year: 'numeric', locale: 'es-ES' });

        var firstDay = new Date(date.getFullYear(), date.getMonth(), 1).getDay();
        var lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();

        var day = 1;

        for (var i = 0; i < 6; i++) {
          var row = document.createElement('tr');

          for (var j = 0; j < 7; j++) {
            if (i === 0 && j < firstDay) {
              var cell = document.createElement('td');
              row.appendChild(cell);
            } else if (day > lastDay) {
              break;
            } else {
              var cell = document.createElement('td');
              cell.textContent = day;
              cell.addEventListener('click', selectDate);
              row.appendChild(cell);
              day++;
            }
          }

          calendarBody.appendChild(row);
        }
      }

      function selectDate(event) {
        var clickedDate = event.target.textContent;
        var month = currentDate.getMonth() + 1;
        var formattedDate = currentDate.getFullYear() + '-' + month.toString().padStart(2, '0') + '-' + clickedDate.toString().padStart(2, '0');
        selectedDate.value = formattedDate;

        var selectedCell = document.querySelector('.selected');
        if (selectedCell) {
          selectedCell.classList.remove('selected');
        }
        event.target.classList.add('selected');
      }

      generateCalendar(currentDate.getFullYear(), currentDate.getMonth());

      document.getElementById('prev-month').addEventListener('click', function() {
        currentDate.setMonth(currentDate.getMonth() - 1);
        generateCalendar(currentDate.getFullYear(), currentDate.getMonth());
      });

      document.getElementById('next-month').addEventListener('click', function() {
        currentDate.setMonth(currentDate.getMonth() + 1);
        generateCalendar(currentDate.getFullYear(), currentDate.getMonth());
      });
    });
  </script>
</body>
</html>
